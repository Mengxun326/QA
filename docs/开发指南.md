# 开发指南

## 环境要求
- Node.js (v14+)
- MySQL数据库
- npm 或 yarn

## 开发环境配置

### 1. 克隆项目
```bash
git clone <repository-url>
cd Q&A
```

### 2. 安装依赖
```bash
# 安装所有依赖
npm run install-all

# 或者分别安装
npm install
cd server && npm install
cd ../client && npm install
```

### 3. 数据库配置
1. 创建MySQL数据库：
```sql
CREATE DATABASE qa_platform;
```

2. 复制环境变量文件：
```bash
cp server/config.env.example server/.env
```

3. 编辑 `server/.env` 文件，设置数据库连接信息：
```env
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=qa_platform
JWT_SECRET=your_jwt_secret_key
PORT=5000
```

### 4. 启动开发服务器

```bash
# 同时启动前端和后端
npm run dev

# 或者分别启动
npm run server  # 后端服务器 (http://localhost:5000)
npm run client  # 前端开发服务器 (http://localhost:3000)
```

## 数据库设计

### 表结构

#### admins（管理员表）
- id: 主键
- username: 用户名（唯一）
- password: 加密密码
- created_at: 创建时间

#### questions（问题表）
- id: 主键
- title: 问题标题
- content: 问题内容
- author_name: 提问者姓名
- author_email: 提问者邮箱（可选）
- created_at: 创建时间
- updated_at: 更新时间

#### answers（回答表）
- id: 主键
- question_id: 问题ID（外键）
- content: 回答内容
- admin_id: 管理员ID（外键）
- created_at: 创建时间
- updated_at: 更新时间

## 开发注意事项

### 1. 代码规范
- 使用 ESLint 进行代码检查
- 遵循项目既定的代码风格
- 提交前进行代码格式化

### 2. 安全性
- 所有API输入必须经过验证
- 密码必须加密存储
- 敏感信息不得硬编码

### 3. 性能优化
- 合理使用缓存
- 优化数据库查询
- 减少不必要的API请求

### 4. 测试
- 编写单元测试
- 进行接口测试
- 进行UI测试

## 常见问题解决

### 1. 启动失败
- 检查端口占用情况
- 确认数据库连接配置
- 检查环境变量设置

### 2. 数据库连接问题
- 确认MySQL服务是否运行
- 检查数据库用户权限
- 验证连接字符串格式

### 3. 依赖安装失败
- 清除npm缓存
- 使用管理员权限运行
- 检查Node.js版本兼容性 